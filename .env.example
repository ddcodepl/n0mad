# Nomad - Notion Task Automation Environment Configuration Template
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED CONFIGURATION
# These variables MUST be set for the application to function
# =============================================================================

# Notion Integration (REQUIRED)
NOTION_TOKEN="your_notion_integration_token_here"  # Get from https://www.notion.so/my-integrations
NOTION_BOARD_DB="your_notion_database_id_here"           # Database ID from your Notion board URL

# AI Provider (At least ONE required)
# You can use any combination of these providers
OPENAI_API_KEY="sk-your_openai_api_key_here"             # OpenAI API key for GPT models
ANTHROPIC_API_KEY="sk-ant-your_anthropic_api_key_here"   # Anthropic API key for Claude models
OPENROUTER_API_KEY="sk-or-your_openrouter_api_key_here"  # OpenRouter API key for multiple models

# =============================================================================
# OPTIONAL CONFIGURATION
# These variables have sensible defaults but can be customized
# =============================================================================

# Application Settings
NOMAD_HOME="/app/.nomad"                                  # Base directory for Nomad files
NOMAD_TASKS_DIR="/app/tasks"                             # Directory for task files (TASKS_DIR alias)
TASKS_DIR="./tasks"                                      # Legacy alias for NOMAD_TASKS_DIR
NOMAD_LOG_LEVEL="INFO"                                   # Logging level (DEBUG, INFO, WARNING, ERROR)
NOMAD_MAX_CONCURRENT_TASKS="3"                          # Maximum concurrent tasks

# Global Configuration
NOMAD_CONFIG_FILE="/app/config/nomad.conf"              # Path to additional configuration file

# Task Processing Configuration
NOMAD_COMMIT_VALIDATION_ENABLED="true"                  # Enable checkbox validation
NOMAD_COMMIT_CHECKBOX_NAME="Commit"                     # Name of commit checkbox in Notion
NOMAD_VALIDATION_CACHE_TTL_MINUTES="5"                  # Cache TTL for validations
NOMAD_VALIDATION_STRICT_MODE="false"                    # Strict validation mode

# =============================================================================
# SLACK INTEGRATION (OPTIONAL)
# Only required if you want Slack notifications
# =============================================================================

# Slack Bot Configuration
SLACK_BOT_TOKEN="xoxb-your-slack-bot-token-here"        # Slack bot token
SLACK_APP_TOKEN="xapp-your-slack-app-token-here"        # Slack app token

# Slack Channel Configuration
SLACK_DEFAULT_CHANNEL="#general"                        # Default notification channel
SLACK_ERROR_CHANNEL="#errors"                           # Error notification channel
SLACK_NOTIFICATIONS_ENABLED="true"                      # Enable Slack notifications

# Slack Rate Limiting
SLACK_RATE_LIMIT_PER_MINUTE="60"                        # Messages per minute limit
SLACK_RETRY_ATTEMPTS="3"                                # Retry attempts for failed messages
SLACK_RETRY_DELAY="5"                                   # Delay between retries (seconds)
SLACK_TIMEOUT="30"                                      # Request timeout (seconds)

# =============================================================================
# DOCKER-SPECIFIC CONFIGURATION
# These are set automatically in Docker but can be overridden
# =============================================================================

# Container Environment Indicator
NOMAD_DOCKER_ENV="1"                                    # Indicates running in Docker

# Python Configuration
PYTHONDONTWRITEBYTECODE="1"                             # Don't create .pyc files
PYTHONUNBUFFERED="1"                                    # Unbuffered stdout/stderr
PYTHONPATH="/app"                                       # Python module search path

# =============================================================================
# ADDITIONAL AI PROVIDERS (OPTIONAL)
# For extended AI model support
# =============================================================================

# Additional Provider Support
GOOGLE_API_KEY="your_google_api_key_here"               # Google Gemini models
XAI_API_KEY="your_xai_api_key_here"                     # xAI models
MISTRAL_API_KEY="your_mistral_api_key_here"             # Mistral AI models
AZURE_OPENAI_API_KEY="your_azure_openai_key_here"      # Azure OpenAI models
OLLAMA_API_KEY="your_ollama_key_here"                   # Ollama API key
GROQ_API_KEY="your_groq_key_here"                       # Groq models

# TaskMaster Integration (if using TaskMaster)
PERPLEXITY_API_KEY="your_perplexity_key_here"           # Perplexity for research
GITHUB_API_KEY="your_github_api_key_here"               # GitHub integration

# =============================================================================
# LEGACY/DEPRECATED VARIABLES
# These may be used by older components
# =============================================================================

# Legacy Task Processing (may be used by process-tasks.js)
MAX_CONCURRENT_TASKS="3"                                # Legacy alias for NOMAD_MAX_CONCURRENT_TASKS
TICKETS_API_URL="http://localhost:3000/api"             # Internal API URL (if used)
CLAUDE_API_URL="https://api.anthropic.com/v1"           # Claude API endpoint
LOG_TO_FILE="true"                                      # Enable file logging
LOG_FILE_PATH="./task-processing.log"                   # Log file path
TASKS_SOURCE_DIR="./tasks/tasks"                        # Source directory for tasks
TASKS_DEST_DIR="./.taskmaster/tasks"                    # Destination for processed tasks

# =============================================================================
# SECURITY NOTES
# =============================================================================

# 1. NEVER commit this file with real values to version control
# 2. Use Docker secrets in production for sensitive values
# 3. Ensure proper file permissions (600) for .env files
# 4. Rotate API keys regularly
# 5. Monitor for API key exposure in logs

# =============================================================================
# VALIDATION
# =============================================================================

# Test your configuration with:
# docker run --rm --env-file .env nomad:latest python3 -m entry.main --config-status
